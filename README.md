# Test Doublesについて
ミサイル発射システムを作成する例で test doubles について説明します。  

このワークショップで最終的に作成するのは、  
ミサイル発射ボタンを押したらパスワードや天候を確認してミサイルを発射するシステムです。  
開発するミサイル発射システムのイメージは npm run start で確認。（開発途中）  

## 作成したいミサイル発射システムの仕様  
下記の仕様を確実に満たすために、  
一つずつ確認しながらミサイル発射システムの開発をしたい。  

### ①ミサイルが発射できるミサイル発射装置を作りたい（ダミー）  
ここで確認したいのはミサイル発射装置が発射指示をし、  
ミサイルが発射できる状態になっていること（ダミーはテストの状況を作り出す役割）なので、  
発射指示を受けたら、本物のミサイルを発射せずエラーを投げるダミーミサイルを使用する。  

### ②発射指示があったらパスワード成否に応じたロジックが呼ばれているか確認したい（スパイ）  
パスワードが正しければミサイル発射ロジックが動いていること。  
パスワードが正しくなければ自爆ロジックが動いていること。  

### ③楽にテストをしたい（モック）  
開発者は同じテストを何度も書きたくないので、スパイの中に自己検証機能を作って楽をする。  

### ④発射指示があったら、その結果を確認したい（スタブ）  
発射ロジックが動いた場合、"ミサイルを発射しました"という結果を確認できる。  
自爆ロジックが動いた場合、"自爆しました"という結果を確認できる。  

### ⑤ミサイル発射ロジックが動いたら、天気が良ければミサイルを発射する（フェイク）  
ミサイル発射ロジックでは天気APIで天気を確認してから発射するが、  
天気APIはまだ未実装（という状況とする）なので天気APIに相当する偽の結果を使ってテストを実施する。  

発射ロジックが動いた場合、天気が雨以外なら"ミサイルを発射しました"という結果を確認できる。  
発射ロジックが動いた場合、天気が雨なら"ミサイルを発射出来ませんでした"という結果を確認できる。  

（ミサイル発射システムの仕様が気になるかもしれませんが、test doubles を説明するためのものです。）  

## これからやること
上記のミサイル発射システムには仕様がいくつかあり、  
１つずつ確実に仕様確認をするとなると、開発過程で何発も実弾を発射しなければ開発ができない。  
しかし何発も実弾を発射してたらアメリカとかから怒られちゃう。  

そこで test doubles が登場！  を使用することで実弾を
実弾に代わって test doubles 発射せず、  
一つずつ確実に仕様確認（テスト）ができる。  
test doubles を用いてミサイル発射システムのコードを書くことで、  
dummy, stub, spy, mock, fake それぞれの役割について理解していこう！  

※本ワークショップはミサイルの発射を推奨するものではありません。
***


